<scenarios>
	<scenario name="1. Clear">
	</scenario>
	
	<scenario name="2. PV">
		<config bundleId="flexiblepower.simulation.pvpanel"
		        factoryId="org.flexiblepower.simulation.pvpanel.PVSimulation"
		        ref="pvsim">
		    <powerWhenStandBy>0.0</powerWhenStandBy>
		    <updateDelay>5</updateDelay>
		    <powerWhenCloudy>200</powerWhenCloudy>
		    <powerWhenSunny>1500</powerWhenSunny>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.manager.uncontrolled"
		        factoryId="org.flexiblepower.uncontrolled.manager.UncontrolledManager"
		        ref="pvman">
		    <expirationTime>20</expirationTime>
		    <showWidget>false</showWidget>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="net.powermatcher.core"
		        factoryId="net.powermatcher.core.auctioneer.Auctioneer">
		    <bidTimeout>600</bidTimeout>
		    <clusterId>DefaultCluster</clusterId>
		    <currency>EUR</currency>
		    <priceSteps>100</priceSteps>
		    <agentId>auctioneer</agentId>
		    <maximumPrice>1.0</maximumPrice>
		    <commodity>electricity</commodity>
		    <priceUpdateRate>5</priceUpdateRate>
		    <minimumPrice>0.0</minimumPrice>
		</config>

		<config bundleId="net.powermatcher.fpai.controller"
		        factoryId="net.powermatcher.fpai.controller.PowerMatcherController"
		        ref="pm">
		    <agentIdPrefix>fpai-agent-</agentIdPrefix>
		    <desiredParent>auctioneer</desiredParent>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" serviceId="net.powermatcher.fpai.widget.FullWidget">
		    <agent.target></agent.target>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" factoryId="net.powermatcher.fpai.widget.SmallWidget">
		    <agent.target></agent.target>
		</config>
		
		<config bundleId="flexiblepower.ui.connectionspage" serviceId="org.flexiblepower.runtime.ui.connectionspage.ConnectionsPage">
			<felixPluginActive>true</felixPluginActive>
			<dashboardWidgetActive>true</dashboardWidgetActive>
		</config>

		<connection from="pvsim:manager" to="pvman:driver"/>
		<connection from="pvman:controller" to="pm:uncontrolled"/>
	</scenario>
	
	<scenario name="3. PV + Timeshifter">
		<config bundleId="flexiblepower.simulation.pvpanel"
		        factoryId="org.flexiblepower.simulation.pvpanel.PVSimulation"
		        ref="pvsim">
		    <powerWhenStandBy>0.0</powerWhenStandBy>
		    <updateDelay>5</updateDelay>
		    <powerWhenCloudy>200</powerWhenCloudy>
		    <powerWhenSunny>1500</powerWhenSunny>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.manager.uncontrolled"
		        factoryId="org.flexiblepower.uncontrolled.manager.UncontrolledManager"
		        ref="pvman">
		    <expirationTime>20</expirationTime>
		    <showWidget>false</showWidget>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.simulation.dishwasher"
		        factoryId="org.flexiblepower.simulation.dishwasher.DishwasherSimulationImpl"
		        ref="dwsim">
		    <resourceId></resourceId>
		</config>

		<config bundleId="flexiblepower.manager.dishwasher.miele"
		        factoryId="org.flexiblepower.miele.dishwasher.manager.MieleDishwasherManager"
		        ref="dwman">
		    <resourceId>dishwasher</resourceId>
		</config>

		<config bundleId="net.powermatcher.core"
		        factoryId="net.powermatcher.core.auctioneer.Auctioneer">
		    <bidTimeout>600</bidTimeout>
		    <clusterId>DefaultCluster</clusterId>
		    <currency>EUR</currency>
		    <priceSteps>100</priceSteps>
		    <agentId>auctioneer</agentId>
		    <maximumPrice>1.0</maximumPrice>
		    <commodity>electricity</commodity>
		    <priceUpdateRate>5</priceUpdateRate>
		    <minimumPrice>0.0</minimumPrice>
		</config>

		<config bundleId="net.powermatcher.fpai.controller"
		        factoryId="net.powermatcher.fpai.controller.PowerMatcherController"
		        ref="pm">
		    <agentIdPrefix>fpai-agent-</agentIdPrefix>
		    <desiredParent>auctioneer</desiredParent>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" serviceId="net.powermatcher.fpai.widget.FullWidget">
		    <agent.target></agent.target>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" factoryId="net.powermatcher.fpai.widget.SmallWidget">
		    <agent.target></agent.target>
		</config>
		
		<config bundleId="flexiblepower.ui.connectionspage" serviceId="org.flexiblepower.runtime.ui.connectionspage.ConnectionsPage">
			<felixPluginActive>true</felixPluginActive>
			<dashboardWidgetActive>true</dashboardWidgetActive>
		</config>

		<connection from="pvsim:manager" to="pvman:driver"/>
		<connection from="pvman:controller" to="pm:uncontrolled"/>
		<connection from="dwsim:manager" to="dwman:driver"/>
		<connection from="dwman:controller" to="pm:timeshifter"/>
	</scenario>

	<scenario name="4. PV + Battery">
		<config bundleId="flexiblepower.simulation.pvpanel"
		        factoryId="org.flexiblepower.simulation.pvpanel.PVSimulation"
		        ref="pvsim">
		    <powerWhenStandBy>0.0</powerWhenStandBy>
		    <updateDelay>5</updateDelay>
		    <powerWhenCloudy>200</powerWhenCloudy>
		    <powerWhenSunny>1500</powerWhenSunny>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.manager.uncontrolled"
		        factoryId="org.flexiblepower.uncontrolled.manager.UncontrolledManager"
		        ref="pvman">
		    <expirationTime>20</expirationTime>
		    <showWidget>false</showWidget>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.simulation.battery"
		        factoryId="org.flexiblepower.simulation.battery.BatterySimulation"
		        ref="batsim">
		    <selfDischargePower>50</selfDischargePower>
		    <totalCapacity>1.0</totalCapacity>
		    <updateInterval>5</updateInterval>
		    <chargeEfficiency>0.9</chargeEfficiency>
		    <dischargeEfficiency>0.9</dischargeEfficiency>
		    <initialStateOfCharge>0.5</initialStateOfCharge>
		    <dischargePower>1500</dischargePower>
		    <chargePower>1500</chargePower>
		</config>

		<config bundleId="flexiblepower.manager.battery" 
		        factoryId="org.flexiblepower.battery.manager.BatteryManager"
		        ref="batman">
		    <resourceId>battery</resourceId>
		</config>

		<config bundleId="net.powermatcher.core"
		        factoryId="net.powermatcher.core.auctioneer.Auctioneer">
		    <bidTimeout>600</bidTimeout>
		    <clusterId>DefaultCluster</clusterId>
		    <currency>EUR</currency>
		    <priceSteps>100</priceSteps>
		    <agentId>auctioneer</agentId>
		    <maximumPrice>1.0</maximumPrice>
		    <commodity>electricity</commodity>
		    <priceUpdateRate>5</priceUpdateRate>
		    <minimumPrice>0.0</minimumPrice>
		</config>

		<config bundleId="net.powermatcher.fpai.controller"
		        factoryId="net.powermatcher.fpai.controller.PowerMatcherController"
		        ref="pm">
		    <agentIdPrefix>fpai-agent-</agentIdPrefix>
		    <desiredParent>auctioneer</desiredParent>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" serviceId="net.powermatcher.fpai.widget.FullWidget">
		    <agent.target></agent.target>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" factoryId="net.powermatcher.fpai.widget.SmallWidget">
		    <agent.target></agent.target>
		</config>
		
		<config bundleId="flexiblepower.ui.connectionspage" serviceId="org.flexiblepower.runtime.ui.connectionspage.ConnectionsPage">
			<felixPluginActive>true</felixPluginActive>
			<dashboardWidgetActive>true</dashboardWidgetActive>
		</config>

		<connection from="batsim:manager" to="batman:driver"/>
		<connection from="batman:controller" to="pm:buffer"/>
		<connection from="pvsim:manager" to="pvman:driver"/>
		<connection from="pvman:controller" to="pm:uncontrolled"/>
	</scenario>
	
	<scenario name="5. PV + Battery + Timeshifter">
		<config bundleId="flexiblepower.simulation.pvpanel"
		        factoryId="org.flexiblepower.simulation.pvpanel.PVSimulation"
		        ref="pvsim">
		    <powerWhenStandBy>0.0</powerWhenStandBy>
		    <updateDelay>5</updateDelay>
		    <powerWhenCloudy>200</powerWhenCloudy>
		    <powerWhenSunny>1500</powerWhenSunny>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.manager.uncontrolled"
		        factoryId="org.flexiblepower.uncontrolled.manager.UncontrolledManager"
		        ref="pvman">
		    <expirationTime>20</expirationTime>
		    <showWidget>false</showWidget>
		    <resourceId>pvpanel</resourceId>
		</config>

		<config bundleId="flexiblepower.simulation.battery"
		        factoryId="org.flexiblepower.simulation.battery.BatterySimulation"
		        ref="batsim">
		    <selfDischargePower>50</selfDischargePower>
		    <totalCapacity>1.0</totalCapacity>
		    <updateInterval>5</updateInterval>
		    <chargeEfficiency>0.9</chargeEfficiency>
		    <dischargeEfficiency>0.9</dischargeEfficiency>
		    <initialStateOfCharge>0.5</initialStateOfCharge>
		    <dischargePower>1500</dischargePower>
		    <chargePower>1500</chargePower>
		</config>

		<config bundleId="flexiblepower.manager.battery" 
		        factoryId="org.flexiblepower.battery.manager.BatteryManager"
		        ref="batman">
		    <resourceId>battery</resourceId>
		</config>

		<config bundleId="flexiblepower.simulation.dishwasher"
		        factoryId="org.flexiblepower.simulation.dishwasher.DishwasherSimulationImpl"
		        ref="dwsim">
		    <resourceId></resourceId>
		</config>

		<config bundleId="flexiblepower.manager.dishwasher.miele"
		        factoryId="org.flexiblepower.miele.dishwasher.manager.MieleDishwasherManager"
		        ref="dwman">
		    <resourceId>dishwasher</resourceId>
		</config>

		<config bundleId="net.powermatcher.core"
		        factoryId="net.powermatcher.core.auctioneer.Auctioneer">
		    <bidTimeout>600</bidTimeout>
		    <clusterId>DefaultCluster</clusterId>
		    <currency>EUR</currency>
		    <priceSteps>100</priceSteps>
		    <agentId>auctioneer</agentId>
		    <maximumPrice>1.0</maximumPrice>
		    <commodity>electricity</commodity>
		    <priceUpdateRate>5</priceUpdateRate>
		    <minimumPrice>0.0</minimumPrice>
		</config>

		<config bundleId="net.powermatcher.fpai.controller"
		        factoryId="net.powermatcher.fpai.controller.PowerMatcherController"
		        ref="pm">
		    <agentIdPrefix>fpai-agent-</agentIdPrefix>
		    <desiredParent>auctioneer</desiredParent>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" serviceId="net.powermatcher.fpai.widget.FullWidget">
		    <agent.target></agent.target>
		</config>

		<config bundleId="net.powermatcher.fpai.controller" factoryId="net.powermatcher.fpai.widget.SmallWidget">
		    <agent.target></agent.target>
		</config>
		
		<config bundleId="flexiblepower.ui.connectionspage" serviceId="org.flexiblepower.runtime.ui.connectionspage.ConnectionsPage">
			<felixPluginActive>true</felixPluginActive>
			<dashboardWidgetActive>true</dashboardWidgetActive>
		</config>

		<connection from="batsim:manager" to="batman:driver"/>
		<connection from="batman:controller" to="pm:buffer"/>
		<connection from="pvsim:manager" to="pvman:driver"/>
		<connection from="pvman:controller" to="pm:uncontrolled"/>
		<connection from="dwsim:manager" to="dwman:driver"/>
		<connection from="dwman:controller" to="pm:timeshifter"/>
	</scenario>

</scenarios>
